<!DOCTYPE html>
<html>
<!--
File: build-share-app.html
Description: App sharing and build documentation.
Author: Mikael Kindborg
Copyright (c) 2013-2016 Evothings AB
-->
<head>
<meta charset="utf-8">
<script src="../js/include-head.js"></script>
<title>Sharing your app</title>
</head>

<body>

<div class="evo-page">
<script src="../js/include-page-header.js"></script>
<div class="evo-content">

<div class="evo-box evo-content-index">
	<div class="evo-box">
		<a href="#Introduction">Sharing your app</a><br/>
		<a href="#RunYourAppFromEvothingsApp">Run an app in the Viewer</a><br/>
		<a href="#ShareUsingURL">Share an app using a URL</a><br/>
		<a href="#CacheProblems">Solving cache problems</a><br/>
	</div>
</div>

<div id="Introduction" class="evo-box">
	<h1>Sharing your app</h1>
	<p>It is fun to share apps you create with others. To make your work available to others, the most simple option is to put your HTML and JavaScript files on a web server and run the app using Evothings Viewer (estimated time 15 minutes).</p>
</div>

<div id="RunYourAppFromEvothingsApp" class="evo-box">
	<h2>Run an app in the Viewer</h2>

	<p>Evothings Viewer is a bit like a web browser for IoT. You can use it to run apps hosted on a web server. This is useful for testing and for quickly sharing apps for evaluation.</p>

	<p>Here is how to run your app in Evothings Viewer:</p>
	<ul>
		<li><p>Upload HTML, CSS, JavaScript and media files (images) to a web server. Note that you don't need to upload any Cordova JavaScript files. The file cordova.js and Cordova plugin files are bundled with Evothings Viewer.</p></li>
		<li><p>Install and run Evothings Viewer on your mobile device.</p></li>
		<li>
			<p>Enter the URL to the main HTML file on the web server in the connect
field and press the Connect button.</p>
			<p>For example, if you have
index.html in the folder "demo", you can enter a url like this (just as with a web page!): <code>http://evothings.com/demo</code></p>
			<p>The protocol defaults to <code>http://</code> so you can just type: <code>evothings.com/demo</code></p>
			<p>When using <code>https://</code> you need to specify this explicitly in the URL.</p>
		</li>
		<li><p>You can also make a menu page with links to all of your apps, and
open that page in the Viewer.</p></li>
		<li><p>The drawback is that the user must be online to run the app.</p></li>
		<li><p>The positive thing is that it is very quick and easy to share apps with others. Just ask them to install Evothings Viewer and supply a URL to your app or start page.</p></li>
	</ul>
</div>

<!--Easy sharing with evothings: URLs-->
<div id="ShareUsingURL" class="evo-box">
	<h2>Share an app using a URL</h2>
	<p>To make sharing of apps even easier, you can create links using the <code>evo:</code> (maps to http:) and <code>evos:</code> (maps to https:) URL schemes (introduced in Evothings Viewer 1.3).  Evothings links can be shared by email or on any website, e.g. on Twitter, on a blog or on an intranet. The user just selects the link, and Evothings Viewer launches with the app pointed to by the link. <p>
	<p>Here is an example:</p>
	<pre>evo://mysite.com/demo/myapp.html</pre>
	<p>That URL will launch Evothings Viewer and open:</p>
	<pre>http://mysite.com/demo/myapp.html</pre>
</div>

<div id="CacheProblems" class="evo-box">
	<h2>Solving cache problems</h2>
	<p>A potential problem is that Evothings Viewer may not load the most recent files when your app code has been updated on the web server. Testing we have done indicates iOS does not cache apps, but Android does.</p>
	<p>The current solution is to include the following meta tags in the head section of index.html, this makes Android not cache the app (works well on iOS too):</p>
	<pre>&lt;meta http-equiv="pragma" content="no-cache" /&gt;
&lt;meta http-equiv="expires" content="-1" /&gt</pre>
	<p>If you have published apps without the above tags, the users have to clear the web cache on Android to get the new version. Go to Settings/Apps/Evothings and select "Clear data" to clear the cache.</p>
	<p>You can also put a Reload button in the app (which can be useful during development):</p>
	<pre>&lt;button onclick="window.location.reload(true)"&gtReload&lt;/button&gt</pre>
</div>

<div id="SummaryAndAdvice" class="evo-box">
	<h2>Cool trick</h2>
	<p>If you have several apps you wish to share, make an index page that acts like a menu or gallery you can use as a launchpad (just put links to your apps
on the menu page, as you would for any web page).</p>
</div>

<script src="../js/include-page-footer.js"></script>
</div><!-- evo-page-content -->
</div><!-- evo-page -->

</body>
</html>
